<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>game 1</title>
  <style media="screen">
    canvas {
      border: 1px black solid;
    }
  </style>
  <!-- gua game-->
  <script type="text/javascript" src="guagame/gua_game.js"></script>
  <script type="text/javascript" src="guagame/utils.js"></script>
  <script type="text/javascript" src="guagame/gua_scene.js"></script>
  <script type="text/javascript" src="guagame/gua_image.js"></script>
  <script type="text/javascript" src="guagame/gua_particle_system.js"></script>
  <script type="text/javascript" src="guagame/gua_particle.js"></script>
  <script type="text/javascript" src="guagame/gua_label.js"></script>
  <!--场景文件-->
  <script type="text/javascript" src="scene/main/scene.js"></script>
  <script type="text/javascript" src="scene/main/sky.js"></script>
  <script type="text/javascript" src="scene/main/enemy.js"></script>
  <script type="text/javascript" src="scene/main/player.js"></script>
  <script type="text/javascript" src="scene/main/bullet.js"></script>
  <script type="text/javascript" src="scene/main/cloud.js"></script>
  <script type="text/javascript" src="scene/main/config.js"></script>
  <script type="text/javascript" src="scene/main/enemy_bullet.js"></script>

  <!--结束和标题场景-->
  <script type="text/javascript" src="scene/end/scene_end.js"></script>
  <script type="text/javascript" src="scene/title/scene_title.js"></script>
</head>
<body>

<canvas id="id-canvas" width="400" height="600"></canvas>
<hr>
<div class="">
  <label>
    <input type="range" value="" max="20" data-value="config.player_speed" class="gua-auto-slider">
    玩家速度：<span class="gua-label"></span>
  </label>
</div>
<div class="">
  <label>
    <input type="range" value="" max="10" data-value="config.bullet_speed" class="gua-auto-slider">
    子弹速度：<span class="gua-label"></span>
  </label>
</div>
<div class="">
  <label>
    <input type="range" value="" max="10" data-value="config.fire_cooldown" class="gua-auto-slider">
    子弹冷却时间：<span class="gua-label"></span>
  </label>
</div>
<div class="">
  <label>
    <input type="range" value="" min="-10" max="10" data-value="config.cloud_speed" class="gua-auto-slider">
    cloud speed：<span class="gua-label"></span>
  </label>
</div>

<script type="text/javascript" src="main.js"></script>
<script>
  let es = sel => document.querySelectorAll(sel);
  let bindAll = function (sel, eventName, callback) {
    let l = es(sel);
    for (let i = 0; i < l.length; i++) {
      let input = l[i];
      input.addEventListener(eventName, function (event) {
        callback(event);
      });
    }
  };

  bindAll('.gua-auto-slider', 'input', function (event) {
    let target = event.target;
    let bindVar = target.dataset.value;
    let v = target.value;
    eval(bindVar + '=' + v);
    //显示
    let label = target.closest('label').querySelector('.gua-label');
    label.innerText = v;
  });
</script>
</body>
</html>